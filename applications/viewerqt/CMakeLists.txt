SET( TARGET_SRC
    osgviewerQt.cpp
)

SET(TARGET_MOC_H
    osgviewerQt.h
)

IF(Qt5Widgets_FOUND)
    IF(Qt5Widgets_VERSION VERSION_LESS 5.2.0)
        QT5_WRAP_CPP( TARGET_MOC_SRC ${TARGET_MOC_H} OPTIONS "-f" )
    ELSE()
        QT5_WRAP_CPP( TARGET_MOC_SRC ${TARGET_MOC_H} )
    ENDIF()
ELSE()
    QT4_WRAP_CPP( TARGET_MOC_SRC ${TARGET_MOC_H} OPTIONS "-f" )
ENDIF()

LIST(APPEND TARGET_SRC ${TARGET_MOC_SRC})

SET(TARGET_LIBRARIES_VARS
    OPENTHREADS_LIBRARY
    OSG_LIBRARY
    OSGDB_LIBRARY
    OSGUTIL_LIBRARY
    OSGGA_LIBRARY
    OSGQT_LIBRARY
    OSGVIEWER_LIBRARY
)


IF ( NOT Qt5Widgets_FOUND )
    LIST(APPEND TARGET_LIBRARIES_VARS
        QT_QTCORE_LIBRARY
        QT_QTGUI_LIBRARY
        )
ENDIF()

SETUP_APPLICATION( osgviewerQt )

IF ( Qt5Widgets_FOUND )
    qt5_use_modules( osgviewerQt Widgets OpenGL )
ENDIF( Qt5Widgets_FOUND )

